<?xml version="1.0" encoding="UTF-8" ?>
<Module>
<ModulePrefs title="Page Navigation" title_url="http://www.born4banned.com/" author="born4banned" />
<UserPref name="backcl" display_name="Background Color" default_value="#ffffff" />
<UserPref name="brdcl" display_name="Border Color" default_value="#ffffff" />
<UserPref name="brdclhv" display_name="Border Color Hover" default_value="#ffffff" />
<UserPref name="btncl" display_name="Button Color" default_value="#3c9ada" />
<UserPref name="btnclhv" display_name="Button Color Hover" default_value="#3c9ada" />
<UserPref name="fontcl" display_name="Font Color" default_value="#ffffff" />
<UserPref name="fontclhv" display_name="Font Color Hover" default_value="#ffffff" />
<UserPref name="firstpage" display_name="First Page Word" default_value="" />
<UserPref name="lastpage" display_name="Last Page Word" default_value="" />
<UserPref name="nextpage" display_name="Next Page Word" default_value="" />
<UserPref name="prevpage" display_name="Previous Page Word" default_value="" />
<UserPref name="pgdisplayed" display_name="No of Page Displayed" default_value="" datatype="int"/>
<UserPref name="pgcount" display_name="Page Count" default_value="" datatype="int" />
<Content type="html"><![CDATA[
<style>
.showpageArea {padding: 0 5px;
margin-top: 10px;
margin-bottom: 10px;
}
.showpageArea a {border: 1px solid #505050;
color: #000000;
font-weight: normal;
padding: 3px 6px !important;
margin: 0px 4px;
text-decoration: none;
}
.showpageArea a:hover {font-size: 11px;
border: 1px solid #333;
color: #000000;
background-color: #FFFFFF;
}
.showpageNum a {border: 1px solid #505050;
color: #000000;
font-weight: normal;
padding: 3px 6px !important;
margin: 0px 4px;
text-decoration: none;
}
.showpageNum a:hover {font-size: 11px;
border: 1px solid #333;
color: #000000;
background-color: #FFFFFF;
}
.showpagePoint {font-size: 11px;
padding: 2px 4px 2px 4px;
margin: 2px;
font-weight: bold;
border: 1px solid #333;
color: #fff;
background-color: #000000;
}
.showpage a:hover {font-size: 11px;
border: 1px solid #333;
color: #000000;
background-color: #FFFFFF;
}
.showpageNum a:link,.showpage a:link {font-size: 11px;
padding: 2px 4px 2px 4px;
margin: 2px;
text-decoration: none;
border: 1px solid #0066cc;
color: #0066cc;
background-color: #FFFFFF;
}
.showpageNum a:hover {font-size: 11px;
border: 1px solid #333;
color: #000000;
background-color: #FFFFFF;
}
</style>
<script type="text/javascript">
function showpageCount(json) {
var thisUrl = location.href;
var htmlMap = new Array();
var isFirstPage = thisUrl.substring(thisUrl.length-14,thisUrl.length) == ".blogspot.com/";
var isLablePage = thisUrl.indexOf("/search/label/") != -1;
var isPage = thisUrl.indexOf("/search?updated") != -1;
var thisLable = isLablePage ? thisUrl.substr(thisUrl.indexOf("/search/label/")+ 14,thisUrl.length) : "";
thisLable = thisLable.indexOf("?") != -1 ? thisLable.substr(0,thisLable.indexOf("?")) : thisLable;
var thisNum = 1;
var postNum=1;
var itemCount = 0;
var fFlag = 0;
var eFlag = 0;
var html= '';
var upPageHtml ='';
var downPageHtml ='';
var pageCount=__Up_pgcount__;
var displayPageNum=__Up_pgdisplayed__;
var firstPageWord = __Up_firstpage__;
var endPageWord = __Up_lastpage__;
var upPageWord =__Up_nextpage__;
var downPageWord =__Up_prevpage__;
var labelHtml = '<span class="showpageNum"><a href="/search/label/'+ thisLable +'?&max-results='+ pageCount +'">';
for(var i=0, post; post = json.feed.entry[i]; i++) {
var timestamp = post.published.$t.substr(0,10);
var title = post.title.$t;
if(isLablePage){
if(title! = ''){
if(post.category){
for(var c = 0, post_category; post_category = post.category[c]; c++) {
if(encodeURIComponent(post_category.term) == thisLable){
if(itemCount == 0 || (itemCount % pageCount == (pageCount-1))){
if(thisUrl.indexOf(timestamp)!=-1 ){
thisNum = postNum;
}
postNum++;
htmlMap[htmlMap.length] = '/search/label/' + thisLable + '?updated-max=' + timestamp + 'T00%3A00%3A00%2B08%3A00&max-results=' + pageCount;
}
}
}
}//end if(post.category){
itemCount++;
}
}else{
if(title != ''){
if(itemCount == 0 || (itemCount % pageCount == (pageCount-1))){
if(thisUrl.indexOf(timestamp) != -1 ){
thisNum = postNum;
}
if(title != '') postNum++;
htmlMap[htmlMap.length] = '/search?updated-max=' + timestamp + 'T00%3A00%3A00%2B08%3A00&max-results=' + pageCount;
}
}
itemCount++;
}
}
for(var p = 0; p < htmlMap.length; p++){
if(p >= (thisNum-displayPageNum-1) && p < (thisNum+displayPageNum)){
if(fFlag == 0 && p == thisNum-2){
if(thisNum == 2){
if(isLablePage){
upPageHtml = labelHtml + upPageWord + '</a></span>';
}else{
upPageHtml = '<span class="showpage"><a href="/">' + upPageWord + '</a></span>';
}
}else{
upPageHtml = '<span class="showpage"><a href="' + htmlMap[p] + '">' + upPageWord + '</a></span>';
}
fFlag++;
}
if(p == (thisNum-1)){
html += ' <span class="showpagePoint"><u>' + thisNum + '</u></span>';
}else{
if(p == 0){
if(isLablePage){
html = labelHtml +'1</a></span>';
}else{
html += '<span class="showpageNum"><a href="/">1</a></span>';
}
}else{
html += '<span class="showpageNum"><a href="' + htmlMap[p] + '">' + (p+1) + ' </a></span>';
}
}
if(eFlag == 0 && p == thisNum){
downPageHtml = '<span class="showpage"><a href="' + htmlMap[p] + '">' + downPageWord + '</a></span>';
eFlag++;
}
}//end if(p >= (thisNum-displayPageNum-1) && p<(thisNum+displayPageNum)){
}//end for(var p = 0; p < htmlMap.length; p++){
if(thisNum > 1){
if(!isLablePage){
html = '<span class="showpage"><a href="/">' + firstPageWord + ' </a></span>' + upPageHtml + ' ' + html + ' ';
}else{
html = '' + labelHtml + firstPageWord + ' </a></span>' + upPageHtml + ' ' + html + ' ';
}
}
html = '<div class="showpageArea">' + html;
if(thisNum < (postNum-1)){
html += downPageHtml;
html += '<span class="showpage"><a href="' + htmlMap[htmlMap.length-1] + '"> '+ endPageWord + '</a></span>';
}
if(postNum == 1) postNum++;
html += '</div>';
if(isPage || isFirstPage || isLablePage){
var pageArea = document.getElementsByName("pageArea");
var blogPager = document.getElementById("blog-pager");
if(postNum <= 2){
html ='';
}
for(var p = 0; p < pageArea.length; p++){
pageArea[p].innerHTML = html;
}
if(pageArea && pageArea.length > 0){
html ='';
}
if(blogPager){
blogPager.innerHTML = html;
}
}
}
</script>
<script src="/feeds/posts/summary?alt=json-in-script&callback=showpageCount&max-results=99999" type="text/javascript"></script>
<div style="display:none;"> </div>
]]></Content>
</Module>
